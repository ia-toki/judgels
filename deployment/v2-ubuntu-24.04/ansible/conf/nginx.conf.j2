# Disable disclosing Nginx version in header
server_tokens off;

# Enable HSTS (prevents malicious users from redirecting site traffic to HTTP after first open, for 1 year)
add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;

# Prevent browsers from guessing the content type of files
add_header X-Content-Type-Options "nosniff" always;

# Only allow referrer headers to be sent over HTTPS, and also only the domain name (without path) when cross origin
add_header Referrer-Policy "strict-origin-when-cross-origin" always;

gzip_disable "msie6";
gzip_vary on;
gzip_proxied any;
gzip_comp_level 6;
gzip_buffers 16 8k;
gzip_http_version 1.1;
gzip_min_length 256;
gzip_types
    application/atom+xml
    application/javascript
    application/json
    application/rss+xml
    application/vnd.ms-fontobject
    application/x-font-ttf
    application/x-web-app-manifest+json
    application/xhtml+xml
    application/xml
    application/octet-stream
    font/opentype
    image/svg+xml
    image/x-icon
    text/css
    text/plain
    text/x-component;
